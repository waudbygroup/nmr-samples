<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usage Guide - NMR Sample Manager</title>
    <link rel="stylesheet" href="css/docs.css">
</head>

<body>
    <header class="header">
        <div class="header-content">
            <h1>NMR Sample Manager</h1>
            <nav class="nav">
                <a href="index.html">Application</a>
                <a href="installation.html">Installation</a>
                <a href="usage.html" class="active">Usage Guide</a>
                <a href="https://nmr-samples.github.io/topspin/">Topspin Integration</a>
                <a href="https://waudbylab.org/">Waudby Group</a>
            </nav>
        </div>
    </header>

    <div class="content">
        <h1>Usage Guide</h1>

        <h2>Core Concept</h2>
        <p>The NMR Sample Manager creates simple metadata files in your dataset directories to record when samples are
            injected and ejected. All other information is optional but can be recorded to help keep track of your
            measurements.</p>

        <p>Information can be captured about:</p>
        <ul>
            <li><strong>Users:</strong> People involved in the experiment</li>
            <li><strong>Sample:</strong> Molecule names, concentrations, isotopic labeling</li>
            <li><strong>Buffer:</strong> pH, buffer components, solvent information</li>
            <li><strong>NMR Tube:</strong> Tube type, diameter, sample volume</li>
            <li><strong>Sample Position:</strong> SampleJet rack positions</li>
            <li><strong>Laboratory Reference:</strong> Lab book entries, experiment IDs</li>
            <li><strong>Notes:</strong> Additional observations</li>
        </ul>
        <p>Remember: all fields are optional - use only what you need!</p>

        <img src="assets/viewer.png" alt="Sample management interface showing folder with metadata entries"
            style="width: 100%; max-width: 600px; margin: 20px 0; border-radius: 4px;">

        <h2>Managing Samples</h2>

        <h3>Creating a New Sample</h3>
        <ol>
            <li>Click the "New Sample" button</li>
            <li>Fill in the form with your sample information (all fields are optional)</li>
            <li>The plus (+) buttons can be used to add fields, e.g. for users, or buffer components</LI>
            <li>Click "Save" or press ENTER to store the sample metadata</li>
            <li>To cancel entry, just interact with another sample, or go to the timeline view</li>
        </ol>

        <img src="assets/editing.png" alt="Sample creation form showing the various fields available for metadata entry"
            style="width: 100%; max-width: 600px; margin: 20px 0; border-radius: 4px;">

        <h3>Editing Existing Samples</h3>
        <ol>
            <li>Select a sample from the list</li>
            <li>Click "Edit" to modify the information</li>
            <li>Make your changes and click "Save"</li>
        </ol>

        <h3>Duplicating Samples</h3>
        <p>Perfect for titration series or similar experiments:</p>
        <ol>
            <li>Select an existing sample</li>
            <li>Click "Duplicate"</li>
            <li>Modify the details as needed</li>
            <li>Save the new sample</li>
        </ol>


        <h2>Timeline View</h2>
        <p>Click "Show timeline" to see a complete history of all samples in the current experiment, including when they
            were created, modified, and ejected.</p>

        <img src="assets/timeline.png"
            alt="Timeline view showing chronological history of sample injections and ejections"
            style="width: 100%; max-width: 600px; margin: 20px 0; border-radius: 4px;">

        <h2>Sample Ejection</h2>
        <p>When you're done with a sample, click "Eject" to timestamp when it was removed. This helps track which
            samples are currently active in the spectrometer.</p>

        <h2>File Storage</h2>
        <p>Sample data is stored as human-readable JSON files in your experiment directories. These files:</p>
        <ul>
            <li>Can be opened in any text editor</li>
            <li>Work well with version control systems like Git</li>
            <li>Include timestamps for creation, modification, and ejection</li>
            <li>Follow a consistent naming pattern: <code>timestamp_samplename.json</code></li>
        </ul>

        <h2>Tips</h2>
        <ul>
            <li>Use the duplicate feature for sample series with small variations</li>
            <li>The timeline view helps you see the complete experiment history</li>
            <li>All sample information is automatically timestamped</li>
            <li>You can edit or update samples anytime</li>
            <li>Use the Notes field for any additional observations</li>
        </ul>

        <h2>JSON Schema</h2>
        <p>The NMR Sample Manager uses a <strong>JSON Schema</strong> to define the structure and validation rules for
            sample metadata. A JSON Schema is like a blueprint that describes what information can be stored and how it
            should be formatted.</p>

        <p>For example, the schema defines:</p>
        <ul>
            <li>Which fields are available (Users, Sample, Buffer, etc.)</li>
            <li>What type of data each field accepts (text, numbers, predefined options)</li>
            <li>Validation rules (e.g., pH must be between 0 and 14)</li>
            <li>Default values and descriptions for each field</li>
        </ul>

        <p>The current schema version is available at: <a
                href="https://nmr-samples.github.io/online/schemas/current/schema.json"
                target="_blank">current/schema.json</a></p>

        <p>This schema-driven approach ensures:</p>
        <ul>
            <li><strong>Consistency:</strong> All sample files follow the same structure</li>
            <li><strong>Validation:</strong> Data is checked for correctness before saving</li>
            <li><strong>Evolution:</strong> The schema can be updated while maintaining compatibility with existing data
            </li>
            <li><strong>Transparency:</strong> The data structure is clearly documented and machine-readable</li>
        </ul>

        <h2>Support and Development</h2>
        <p>The NMR Sample Manager is an open-source project hosted on GitHub:</p>
        <ul>
            <li><strong>Source code:</strong> <a href="https://github.com/nmr-samples/online/"
                    target="_blank">github.com/nmr-samples/online</a></li>
            <li><strong>Report issues or request features:</strong> <a
                    href="https://github.com/nmr-samples/online/issues/new" target="_blank">Create a new issue</a>
            </li>
        </ul>
        <p>Found a bug or have a suggestion? Please report it on GitHub - this helps improve the application for
            everyone.</p>
    </div>
</body>

</html>